


Easy Software Products                                     epm(1)



NNNNAAAAMMMMEEEE
     epm - create software packages

SSSSYYYYNNNNOOOOPPPPSSSSIIIISSSS
     eeeeppppmmmm [ -f _f_o_r_m_a_t ] [ -g ] [ -k ] [ -n[mrs] ] [ -s _s_e_t_u_p._x_p_m ]
     [ --setup-image _s_e_t_u_p._x_p_m ] [ --setup-program /_f_o_o/_b_a_r/_s_e_t_u_p
     ] [ -v ] [ _n_a_m_e=_v_a_l_u_e _n_a_m_e=_v_a_l_u_e ] product [ _l_i_s_t_f_i_l_e ]

DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
     eeeeppppmmmm generates software packages complete with  installation,
     removal,  and (if necessary) patch scripts. Unless otherwise
     specified, the files required for _p_r_o_d_u_c_t are  read  from  a
     file named "_p_r_o_d_u_c_t.list".

     The -_f option ("format") specifies the distribution format:

     deb
          Generate a Debian distribution suitable  for  installa-
          tion on a Debian Linux system.

     inst, tardist
          Generate an IRIX distribution suitable for installation
          on an system running IRIX.

     native
          Generate an native  distribution.  This  uses  _r_p_m  for
          Linux,  _i_n_s_t  for  IRIX, _p_k_g for Solaris, and _s_w_i_n_s_t_a_l_l
          for HP-UX. All other operating systems default  to  the
          _p_o_r_t_a_b_l_e format.

     pkg
          Generate an AT&T software package. These are used  pri-
          marily under Solaris.

     portable
          Generate a portable distribution based on shell scripts
          and tar files.  The resulting distribution is installed
          and removed the same  way  on  all  operating  systems.
          [default]

     rpm
          Generate a Red Hat Package Manager ("RPM") distribution
          suitable for installation on a Red Hat Linux system.

     swinstall, depot
          Generate a HP-UX software distribution.

     Executable files in the distribution are  normally  stripped
     of  debugging  information  when  packaged.  To disable this
     functionality use the -_g option.





26 March 2001   Last change: ESP Package Manager                1






Easy Software Products                                     epm(1)



     Intermediate (spec, etc.) files used to create the distribu-
     tion are normally removed after the distribution is created.
     The -_k option keeps these files in the  distribution  direc-
     tory.

     The -_s and --_s_e_t_u_p-_i_m_a_g_e options ("setup") include  the  ESP
     Software  Wizard  with the specified XPM image file with the
     distribution. This option is  currently  only  supported  by
     portable distributions.

     The --_s_e_t_u_p-_p_r_o_g_r_a_m option specifies the setup executable to
     use  with  the  distribution.  This option is currently only
     supported by portable distributions.

     The -_v option ("verbose") increases the amount  of  informa-
     tion  that  is  reported.  Use multiple v's for more verbose
     output.

     Distributions normally  are  named  "product-version-system-
     release-machine.ext"   and  "product-version-system-release-
     machine-patch.ext" (for patch distributions.)  The  "system-
     release-machine" information can be customized or eliminated
     using the -_n option with the appropriate  trailing  letters.
     Using  -_n by itself will remove the "system-release-machine"
     string from the filename entirely.

     Debian, IRIX, portable, and Red Hat  distributions  use  the
     extensions  ".deb", ".tardist", "tar.gz", and ".rpm" respec-
     tively.

LLLLIIIISSSSTTTT FFFFIIIILLLLEEEESSSS
     Each product has an associated list file that describes  the
     files  to include with the product. Comment lines begin with
     the "#" character and  are  ignored.   All  other  non-blank
     lines  must  begin  with a letter, dollar sign ("$"), or the
     percent sign ("%") as follows:

     $name=value
          Sets the named variable to _v_a_l_u_e. NNNNooootttteeee::::  Variables  set
          in  the list file are overridden by variables specified
          on the command-line or in the current environment.

     %copyright _c_o_p_y_r_i_g_h_t _n_o_t_i_c_e
          Sets the copyright notice for the file.

     %description _d_e_s_c_r_i_p_t_i_o_n _t_e_x_t
          Adds a line of descriptive text  to  the  distribution.
          Multiple lines are supported.

     %format _f_o_r_m_a_t [... _f_o_r_m_a_t]
          Uses following files and directives only if the distri-
          bution format is the same as _f_o_r_m_a_t.



26 March 2001   Last change: ESP Package Manager                2






Easy Software Products                                     epm(1)



     %format !_f_o_r_m_a_t [... _f_o_r_m_a_t]
          Uses following files and directives only if the distri-
          bution format is not the same as _f_o_r_m_a_t.

     %include _f_i_l_e_n_a_m_e
          Includes files listed in _f_i_l_e_n_a_m_e.

     %incompat _p_r_o_d_u_c_t

     %incompat _f_i_l_e_n_a_m_e
          Indicates that this product is  incompatible  with  the
          named product or file.

     %install _s_c_r_i_p_t _o_r _p_r_o_g_r_a_m
          Specifies a script or program to be run after all files
          are installed.

     %license _l_i_c_e_n_s_e _f_i_l_e
          Specifies the file to display as the software license.

     %packager _n_a_m_e _o_f _p_a_c_k_a_g_e_r
          Specifies the name of the packager.

     %patch _s_c_r_i_p_t _o_r _p_r_o_g_r_a_m
          Specifies a script or program to be run after all files
          are patched.

     %product _p_r_o_d_u_c_t _n_a_m_e
          Specifies the product name.

     %readme _r_e_a_d_m_e _f_i_l_e
          Specifies a README file to be included in the distribu-
          tion.

     %remove _s_c_r_i_p_t _o_r _p_r_o_g_r_a_m
          Specifies a script or program to be run before removing
          or patching files.

     %release _n_u_m_b_e_r
          Specifies the release or  build  number  of  a  product
          (defaults to 0).

     %replaces _p_r_o_d_u_c_t
          Indicates that this product replaces the named product.

     %requires _p_r_o_d_u_c_t

     %requires _f_i_l_e_n_a_m_e
          Indicates that this product requires the named  product
          or file.

     %vendor _v_e_n_d_o_r _o_r _a_u_t_h_o_r _n_a_m_e



26 March 2001   Last change: ESP Package Manager                3






Easy Software Products                                     epm(1)



          Specifies the vendor or author of the product.

     %version _v_e_r_s_i_o_n _n_u_m_b_e_r
          Specifies the version number of the product.

     %system _s_y_s_t_e_m[-_r_e_l_e_a_s_e] [... _s_y_s_t_e_m[-_r_e_l_e_a_s_e]]
          Specifies that the following files should only be  used
          for the specified operating systems and releases.

     %system !_s_y_s_t_e_m[-_r_e_l_e_a_s_e] [... _s_y_s_t_e_m[-_r_e_l_e_a_s_e]]
          Specifies that the following files should not  be  used
          for the specified operating systems and releases.

     %system all
          Specifies that the following files  are  applicable  to
          all operating systems.

     c _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e

     C _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e
          Specifies a configuration file  for  installation.  The
          second  form  specifies that the file has changed or is
          new and should be included as part of a  patch.  Confi-
          guration  files are installed as "destination.N" if the
          destination already exists.

     d _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n -

     D _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n -
          Specifies a directory should be created when installing
          the software. The second form specifies that the direc-
          tory is new and should be included as part of a patch.

     f _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e

     F _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e
          Specifies a file  for  installation.  The  second  form
          specifies  that  the  file  has  changed  or is new and
          should be included as part of a patch.

     f _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e/_p_a_t_t_e_r_n

     F _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e/_p_a_t_t_e_r_n
          Specifies one or  more  files  for  installation  using
          shell wildcard patterns. The second form specifies that
          the files  have  changed  or  are  new  and  should  be
          included as part of a patch.

     i _m_o_d_e _u_s_e_r _g_r_o_u_p _s_e_r_v_i_c_e-_n_a_m_e _s_o_u_r_c_e

     I _m_o_d_e _u_s_e_r _g_r_o_u_p _s_e_r_v_i_c_e-_n_a_m_e _s_o_u_r_c_e
          Specifies an initialization  script  for  installation.



26 March 2001   Last change: ESP Package Manager                4






Easy Software Products                                     epm(1)



          The  second form specifies that the file has changed or
          is new and should be included as part of a patch.  Ini-
          tialization  scripts are stored in /etc/software/init.d
          and  are  linked  to  the  appropriate  system-specific
          directories  for run levels 0, 2, 3, and 5. Initializa-
          tion scripts mmmmuuuusssstttt accepts at least the _s_t_a_r_t  and  _s_t_o_p
          commands.

     l _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e

     L _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n _s_o_u_r_c_e
          Specifies a symbolic  link  in  the  installation.  The
          second  form  specifies that the link has changed or is
          new and should be included as part of a patch.

     R _m_o_d_e _u_s_e_r _g_r_o_u_p _d_e_s_t_i_n_a_t_i_o_n
          Specifies that the file is to be removed upon patching.
          The  _u_s_e_r and _g_r_o_u_p fields are ignored.  The _m_o_d_e field
          is only used to determine if a check should be made for
          a previous version of the file.

LLLLIIIISSSSTTTT VVVVAAAARRRRIIIIAAAABBBBLLLLEEEESSSS
     _E_P_M maintains a list of variables and their values which can
     be  used  to substitute values in the list file. These vari-
     ables are imported from the current  environment  and  taken
     from  the command-line and list file as provided.  Substitu-
     tions occur when the variable name is  referenced  with  the
     dollar sign ($):

         %install echo What is your name:
         %install read $$name
         %install echo Your name is $$name

         f 0555 root sys ${bindir}/foo foo
         f 0555 root sys $datadir/foo/foo.dat foo.dat

     Variable  names  can  be  surrounded  by   curley   brackets
     (${name})  or  alone  ($name);  without brackets the name is
     terminated by the first slash (/), dash (-), or  whitespace.
     The dollar sign can be inserted using $$.

EEEENNNNVVVVIIIIRRRROOOONNNNMMMMEEEENNNNTTTT VVVVAAAARRRRIIIIAAAABBBBLLLLEEEESSSS
     The _R_P_M_D_I_R environment  variable  will  override  where  EPM
     looks  for RPM distributions you generate. The default loca-
     tions    are    /usr/src/redhat/RPMS,     /usr/src/RPM/RPMS,
     /usr/src/packages/RPMS, and /usr/local/src/RPMS.

KKKKNNNNOOOOWWWWNNNN BBBBUUUUGGGGSSSS
     EPM does not currently support generation of  IRIX  software
     patches.





26 March 2001   Last change: ESP Package Manager                5






Easy Software Products                                     epm(1)



SSSSEEEEEEEE AAAALLLLSSSSOOOO
     mkepmlist(1) - make an EPM list file from a directory.

CCCCOOOOPPPPYYYYRRRRIIIIGGGGHHHHTTTT
     Copyright 1999-2001 by Easy Software  Products,  All  Rights
     Reserved.

     This program is  free  software;  you  can  redistribute  it
     and/or  modify  it under the terms of the GNU General Public
     License as published by the Free Software Foundation; either
     version 2, or (at your option) any later version.

     This program is distributed in the hope that it will be use-
     ful, but WITHOUT ANY WARRANTY; without even the implied war-
     ranty of MERCHANTABILITY or FITNESS FOR  A  PARTICULAR  PUR-
     POSE.  See the GNU General Public License for more details.







































26 March 2001   Last change: ESP Package Manager                6



