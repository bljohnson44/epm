<HTML>
<BODY>
<H2>epminstall</H2>
<HR>
<P>Install files into an EPM list file.</P>

<H3>SYNOPSIS</H3>

<P><B>epm</B> [ -f <I>format</I> ] [ -g ] [ -k ] [ -n[mrs] ] [
-s <I>setup.xpm</I> ] [ --setup-image <I>setup.xpm</I> ] [
--setup-program <I>/foo/bar/setup</I> ] [ -v ] [ <I>name=value
name=value</I> ] product [ <I>listfile</I> ]</P>

<H3>DESCRIPTION</H3>

<P><B>epm</B> generates software packages complete with
installation, removal, and (if necessary) patch scripts. Unless
otherwise specified, the files required for <I>product</I> are
read from a file named "<I>product</I>.list".</P>

<P>The <I>-f</I> option ("format") specifies the distribution
format:</P>

<UL><DL>

	<DT>deb</DT>

	<DD>Generate a Debian distribution suitable for
	installation on a Debian Linux system.</DD>

	<DT>inst, tardist</DT>

	<DD>Generate an IRIX distribution suitable for
	installation on an system running IRIX.</DD>

	<DT>native</DT>

	<DD>Generate an native distribution. This uses
	<I>rpm</I> for Linux, <I>inst</I> for IRIX, <I>pkg</I>
	for Solaris, and <I>swinstall</I> for HP-UX. All other
	operating systems default to the <I>portable</I>
	format.</DD>

	<DT>pkg</DT>

	<DD>Generate an AT&T software package. These are used
	primarily under Solaris.</DD>

	<DT>portable</DT>

	<DD>Generate a portable distribution based on shell
	scripts and tar files. The resulting distribution is
	installed and removed the same way on all operating
	systems. [default]</DD>

	<DT>rpm</DT>

	<DD>Generate a Red Hat Package Manager ("RPM")
	distribution suitable for installation on a Red Hat
	Linux system.</DD>

	<DT>setld</DT>

	<DD>Generate a Tru64 (setld) software distribution.</DD>

	<DT>swinstall, depot</DT>

	<DD>Generate a HP-UX software distribution.</DD>

</DL></UL>

<P>Executable files in the distribution are normally stripped of
debugging information when packaged. To disable this
functionality use the <I>-g</I> option.</P>

<P>Intermediate (spec, etc.) files used to create the
distribution are normally removed after the distribution is
created. The <I>-k</I> option keeps these files in the
distribution directory.</P>

<P>The <I>-s</I> and <I>--setup-image</I> options ("setup")
include the ESP Software Wizard with the specified XPM image
file with the distribution. This option is currently only
supported by portable distributions.</P>

<P>The <I>--setup-program</I> option specifies the setup
executable to use with the distribution. This option is
currently only supported by portable distributions.</P>

<P>The <I>-v</I> option ("verbose") increases the amount of
information that is reported. Use multiple v's for more verbose
output.</P>

<P>Distributions normally are named
"product-version-system-release-machine.ext" and
"product-version-system- release-machine-patch.ext" (for patch
distributions.) The "system-release-machine" information can be
cus- tomized or eliminated using the <I>-n</I> option with the
appropriate trailing letters. Using <I>-n</I> by itself will
remove the "system-release-machine" string from the filename
entirely.</P>

<P>Debian, IRIX, portable, and Red Hat distributions use the
extensions ".deb", ".tardist", "tar.gz", and ".rpm"
respectively.</P>

<H3>LIST VARIABLES</H3>

<P><I>EPM</I> maintains a list of variables and their values
which can be used to substitute values in the list file. These
vari- ables are imported from the current environment and taken
from the command-line and list file as provided. Sub- stitutions
occur when the variable name is referenced with the dollar sign
($):</P>

<UL><PRE>
%install echo What is your name:
%install read $$name
%install echo Your name is $$name
</PRE></UL>

<UL><PRE>
f 0555 root sys ${bindir}/foo foo
f 0555 root sys $datadir/foo/foo.dat foo.dat
</PRE></UL>

<P>Variable names can be surrounded by curley brackets (${name})
or alone ($name); without brackets the name is terminated by the
first slash (/), dash (-), or whitespace. The dollar sign can be
inserted using $$.</P>

<H3>ENVIRONMENT VARIABLES</H3>

<P>The <I>RPMDIR</I> environment variable will override where
EPM looks for RPM distributions you generate. The default
locations are /usr/src/redhat/RPMS, /usr/src/RPM/RPMS,
/usr/src/packages/RPMS, and /usr/local/src/RPMS.</P>

<H3>KNOWN BUGS</H3>

<P>EPM does not currently support generation of IRIX software
patches.</P>

<H3>SEE ALSO</H3>

<P>mkepmlist(1) - make an EPM list file from a directory.</P>

<H3>COPYRIGHT</H3>

<P>Copyright 1999-2001 by Easy Software Products, All Rights
Reserved.</P>

<P>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2, or
(at your option) any later version.</P>

<P>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.</P>

</BODY>
</HTML>
