<HTML>
<BODY>
<PRE>
       epm - create software packages


</PRE>
<H2>SYNOPSIS</H2><PRE>
       <STRONG>epm</STRONG> [ -f <EM>format</EM> ] [ -g ] [ -k ] [ -n[mrs] ] [ -s <EM>setup.xpm</EM>
       ]  [   --setup-image   <EM>setup.xpm</EM>   ]   [   --setup-program
       <EM>/foo/bar/setup</EM>  ] [ -v ] [ <EM>name=value</EM> <EM>name=value</EM> ] product
       [ <EM>listfile</EM> ]


</PRE>
<H2>DESCRIPTION</H2><PRE>
       <STRONG>epm</STRONG> generates software packages  complete  with  installa-
       tion,  removal,  and  (if necessary) patch scripts. Unless
       otherwise specified, the files required  for  <EM>product</EM>  are
       read from a file named "<EM>product</EM>.list".

       The  <EM>-f</EM>  option ("format") specifies the distribution for-
       mat:

       deb
            Generate a Debian distribution suitable for installa-
            tion on a Debian Linux system.

       inst, tardist
            Generate  an IRIX distribution suitable for installa-
            tion on an system running IRIX.

       native
            Generate an native distribution. This  uses  <EM>rpm</EM>  for
            Linux,  <EM>inst</EM> for IRIX, <EM>pkg</EM> for Solaris, and <EM>swinstall</EM>
            for HP-UX. All other operating systems default to the
            <EM>portable</EM> format.

       pkg
            Generate  an  AT&amp;T  software  package. These are used
            primarily under Solaris.

       portable
            Generate  a  portable  distribution  based  on  shell
            scripts and tar files.  The resulting distribution is
            installed and removed the same way on  all  operating
            systems. [default]

       rpm
            Generate  a Red Hat Package Manager ("RPM") distribu-
            tion suitable for installation on  a  Red  Hat  Linux
            system.

       swinstall, depot
            Generate a HP-UX software distribution.

       Executable files in the distribution are normally stripped
       of debugging information when packaged.  To  disable  this
       functionality use the <EM>-g</EM> option.
       bution are normally removed after the distribution is cre-
       ated.  The <EM>-k</EM> option keeps these files in the distribution
       directory.

       The <EM>-s</EM> and <EM>--setup-image</EM> options ("setup") include the ESP
       Software Wizard with the specified XPM image file with the
       distribution. This option is currently only  supported  by
       portable distributions.

       The  <EM>--setup-program</EM> option specifies the setup executable
       to use with the distribution.  This  option  is  currently
       only supported by portable distributions.

       The <EM>-v</EM> option ("verbose") increases the amount of informa-
       tion that is reported. Use multiple v's for  more  verbose
       output.

       Distributions  normally are named "product-version-system-
       release-machine.ext" and  "product-version-system-release-
       machine-patch.ext" (for patch distributions.) The "system-
       release-machine" information can be customized  or  elimi-
       nated  using  the  <EM>-n</EM> option with the appropriate trailing
       letters. Using <EM>-n</EM>  by  itself  will  remove  the  "system-
       release-machine" string from the filename entirely.

       Debian,  IRIX, portable, and Red Hat distributions use the
       extensions  ".deb",  ".tardist",  "tar.gz",   and   ".rpm"
       respectively.


</PRE>
<H2>LIST FILES</H2><PRE>
       Each  product  has  an associated list file that describes
       the files to include with the product. Comment lines begin
       with  the  "#"  character and are ignored.  All other non-
       blank lines must begin with a letter, dollar  sign  ("$"),
       or the percent sign ("%") as follows:

       $name=value
            Sets the named variable to <EM>value</EM>. <STRONG>Note:</STRONG> Variables set
            in the list file are overridden by  variables  speci-
            fied  on  the command-line or in the current environ-
            ment.

       %copyright <EM>copyright</EM> <EM>notice</EM>
            Sets the copyright notice for the file.

       %description <EM>description</EM> <EM>text</EM>
            Adds a line of descriptive text to the  distribution.
            Multiple lines are supported.

       %format <EM>format</EM> <EM>[...</EM> <EM>format]</EM>
            Uses  following files and directives only if the dis-
            tribution format is the same as <EM>format</EM>.
            Uses following files and directives only if the  dis-
            tribution format is not the same as <EM>format</EM>.

       %include <EM>filename</EM>
            Includes files listed in <EM>filename</EM>.

       %incompat <EM>product</EM>

       %incompat <EM>filename</EM>
            Indicates  that this product is incompatible with the
            named product or file.

       %install <EM>script</EM> <EM>or</EM> <EM>program</EM>
            Specifies a script or program to  be  run  after  all
            files are installed.

       %license <EM>license</EM> <EM>file</EM>
            Specifies   the  file  to  display  as  the  software
            license.

       %packager <EM>name</EM> <EM>of</EM> <EM>packager</EM>
            Specifies the name of the packager.

       %patch <EM>script</EM> <EM>or</EM> <EM>program</EM>
            Specifies a script or program to  be  run  after  all
            files are patched.

       %product <EM>product</EM> <EM>name</EM>
            Specifies the product name.

       %readme <EM>readme</EM> <EM>file</EM>
            Specifies a README file to be included in the distri-
            bution.

       %remove <EM>script</EM> <EM>or</EM> <EM>program</EM>
            Specifies a script or program to be run before remov-
            ing or patching files.

       %release <EM>number</EM>
            Specifies  the  release  or build number of a product
            (defaults to 0).

       %replaces <EM>product</EM>
            Indicates that this product replaces the named  prod-
            uct.

       %requires <EM>product</EM>

       %requires <EM>filename</EM>
            Indicates  that this product requires the named prod-
            uct or file.

            Specifies the vendor or author of the product.

       %version <EM>version</EM> <EM>number</EM>
            Specifies the version number of the product.

       %system <EM>system[-release]</EM> <EM>[...</EM> <EM>system[-release]]</EM>
            Specifies that the following  files  should  only  be
            used   for   the   specified  operating  systems  and
            releases.

       %system !<EM>system[-release]</EM> <EM>[...</EM> <EM>system[-release]]</EM>
            Specifies that the following files should not be used
            for the specified operating systems and releases.

       %system all
            Specifies  that the following files are applicable to
            all operating systems.

       c <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source</EM>

       C <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source</EM>
            Specifies a configuration file for installation.  The
            second form specifies that the file has changed or is
            new and should be included as part of a  patch.  Con-
            figuration  files are installed as "destination.N" if
            the destination already exists.

       d <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>-</EM>

       D <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>-</EM>
            Specifies  a  directory  should   be   created   when
            installing  the  software.  The second form specifies
            that the directory is new and should be  included  as
            part of a patch.

       f <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source</EM>

       F <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source</EM>
            Specifies  a  file  for installation. The second form
            specifies that the file has changed  or  is  new  and
            should be included as part of a patch.

       f <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source/pattern</EM>

       F <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source/pattern</EM>
            Specifies  one  or  more files for installation using
            shell wildcard patterns. The  second  form  specifies
            that  the files have changed or are new and should be
            included as part of a patch.

       i <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>service-name</EM> <EM>source</EM>

            Specifies an initialization script for  installation.
            The  second  form specifies that the file has changed
            or is new and should be included as part of a  patch.
            Initialization      scripts     are     stored     in
            /etc/software/init.d and are linked to the  appropri-
            ate  system-specific directories for run levels 0, 2,
            3, and 5.  Initialization  scripts  <STRONG>must</STRONG>  accepts  at
            least the <EM>start</EM> and <EM>stop</EM> commands.

       l <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source</EM>

       L <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM> <EM>source</EM>
            Specifies  a  symbolic  link in the installation. The
            second form specifies that the link has changed or is
            new and should be included as part of a patch.

       R <EM>mode</EM> <EM>user</EM> <EM>group</EM> <EM>destination</EM>
            Specifies  that the file is to be removed upon patch-
            ing.  The <EM>user</EM> and <EM>group</EM>  fields  are  ignored.   The
            <EM>mode</EM>  field  is  only  used  to  determine if a check
            should be made for a previous version of the file.


</PRE>
<H2>LIST VARIABLES</H2><PRE>
       <EM>EPM</EM> maintains a list of variables and their  values  which
       can  be  used to substitute values in the list file. These
       variables are imported from the  current  environment  and
       taken  from  the  command-line  and list file as provided.
       Substitutions occur when the variable name  is  referenced
       with the dollar sign ($):

           %install echo What is your name:
           %install read $$name
           %install echo Your name is $$name

           f 0555 root sys ${bindir}/foo foo
           f 0555 root sys $datadir/foo/foo.dat foo.dat

       Variable  names  can  be  surrounded  by  curley  brackets
       (${name}) or alone ($name); without brackets the  name  is
       terminated  by  the  first slash (/), dash (-), or whites-
       pace. The dollar sign can be inserted using $$.


</PRE>
<H2>ENVIRONMENT VARIABLES</H2><PRE>
       The <EM>RPMDIR</EM> environment variable will  override  where  EPM
       looks  for  RPM  distributions  you  generate. The default
       locations  are  /usr/src/redhat/RPMS,   /usr/src/RPM/RPMS,
       /usr/src/packages/RPMS, and /usr/local/src/RPMS.


</PRE>
<H2>KNOWN BUGS</H2><PRE>
       EPM does not currently support generation of IRIX software
       patches.

       mkepmlist(1) - make an EPM list file from a directory.


</PRE>
<H2>COPYRIGHT</H2><PRE>
       Copyright 1999-2001 by Easy Software Products, All  Rights
       Reserved.

       This  program  is  free  software; you can redistribute it
       and/or modify it under the terms of the GNU General Public
       License  as  published  by  the  Free Software Foundation;
       either version 2, or (at your option) any later version.

       This program is distributed in the hope that  it  will  be
       useful, but WITHOUT ANY WARRANTY; without even the implied
       warranty of MERCHANTABILITY or FITNESS  FOR  A  PARTICULAR
       PURPOSE.   See  the  GNU  General  Public License for more
       details.




































</PRE>
</BODY>
</HTML>
